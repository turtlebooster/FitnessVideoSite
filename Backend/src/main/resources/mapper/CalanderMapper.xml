<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ssafit.model.dao.CalanderDao">
	<resultMap type="calander" id="calanderMap">
		<id column="user_id" property="userId" />
		<result column="todo_id" property="todoId" />
		<result column="date" property="date" />
		<result column="day_of_week" property="dayOfWeek" />
		<result column="eat_calories" property="eatCalories" />
		<result column="use_calories" property="useCalories" />
	</resultMap>
	<select id="selectCalanderListByUserId" resultMap="calanderMap" parameterType="string">
		select *
		from calander
		where user_id = #{userId}
	</select>
	<select id="selectCalanderOne" resultMap="calanderMap">
		select *
		from calander
		where (user_id, date) = (#{userId}, #{date})
	</select>
	<insert id="insertCalander" parameterType="calander">
		insert into calander
		values(#{userId}, 0, #{date}, #{dayOfWeek}, #{eatCalories}, #{useCalories})
		
	</insert>
	<update id="updateCalander" parameterType="calander">
		update calander
		   set eat_calories = #{eatCalories},
		   	   use_calories = #{useCalories}
		 where (user_id, date) = (#{userId}, #{date})
	</update>
	<delete id="deleteCalander">
		delete from calander
		 where (user_id, date) = (#{userId}, #{date})
	</delete>
</mapper>